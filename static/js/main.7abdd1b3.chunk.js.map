{"version":3,"sources":["Game/Canvas.tsx","Game/Node.tsx","Game/rules.ts","Game/Grid.tsx","Game/Game.tsx","GitHub-Mark-64px.png","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Drawing","canvas","isAutoDrawn","ctx","currentFrame","this","drawings","push","slice","indexOf","Canvas","props","lastFrameTime","FRAMES_PER_SECOND","FRAME_MIN_TIME","frameTime","state","document","getElementById","rescaleCanvas","getContext","window","addEventListener","requestAnimationFrame","draw","bind","time","clearRect","width","height","advanceFrame","drawing","innerWidth","innerHeight","id","Component","Tile","x","y","_nodes","sort","a","b","zIndex","value","Node","grid","imageName","text","objectName","startDirection","isPlayer","_isPushable","_objectName","rules","_lastDirection","aniImg","isMoving","xP","yP","Objects","hasDirs","AnimatedImage","isText","objectNames","toLowerCase","verbNames","qualityNames","rule","direction","hasWalkAni","isTileable","Rules","rulesText","innerText","i","nodes","length","curNode","isText_Object","node1","isText_Verb","node2","isText_Quality","addRule","Array","from","Set","resetAllNodeRules","split","qualityName","nodesWithObjectName","node","undoActions","changeTo","changeOn","undoStep","doAfterMove","newObjectName","playerPositions","skip","isPushable","currentDirection","lastDirection","extraWalking","xLastFrame","drawX","xDir","yLastFrame","drawY","yDir","offset","resolution","hasWalking","hasDirections","undefined","hasLeft","hasRight","hasTop","hasBottom","some","imageSmoothingEnabled","drawImage","parseFloat","toFixed","Grid","gridImage","active","undoMoves","didMoveThisStep","loadAllImages","setOffset","initializeGrid","initializeDrawings","updateRules","calculateText","key","amountOfDirections","j","palette","Image","src","process","onload","img","includes","createElement","paletteData","getImageData","imageData","imgData","data","posForColor","canvas2","ctx2","putImageData","Object","keys","Math","floor","drawGrid","currentY","e","posX","clientX","posY","clientY","gridPos","prompt","movedNodes","is","xyP","directionToXAndY","canMoveIntoNode","filter","playerNode","movedNode","moveNode","nextNode","skipMoveCheck","skipAddUndoCheck","reverseDirection","curTile","nextTile","splice","findIndex","doAction","zI","globalCompositeOperation","strokeStyle","fillStyle","beginPath","moveTo","lineTo","stroke","Game","canMove","justUndone","interval","keyDetectDown","keyDetectUp","shift","doExtra","pos","findPlayerNode","find","v","doMovement","howManyRulesNotYou","setTimeout","console","error","undoMove","undoAction","repeat","movePlayers","setInterval","clearInterval","href","target","rel","className","alt","style","position","top","onClick","log","left","textAlign","ref","el","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"2RAEaA,EAAb,WAKI,WAAYC,GAA8C,IAA9BC,IAA6B,kFAJlDD,YAIkD,OAHlDE,SAGkD,OAFlDC,aAAuB,EAE2B,KADlDF,iBACkD,EACrDG,KAAKJ,OAASA,EACdI,KAAKH,YAAcA,EACnBG,KAAKJ,OAAOK,SAASC,KAAKF,MAC1BA,KAAKF,IAAMF,EAAOE,IAT1B,wCAYI,cAZJ,oBAgBI,WACIE,KAAKJ,OAAOK,SAASE,MAAMH,KAAKJ,OAAOK,SAASG,QAAQJ,MAAO,OAjBvE,KAqBqBK,E,kDAajB,WAAYC,GAAa,IAAD,8BACpB,cAAMA,IAZHL,SAA2B,GAWV,EATjBL,YASiB,IARjBE,SAQiB,IANhBS,mBAMgB,IALjBC,kBAA4B,GAKX,EAJPC,oBAIO,IAHjBC,UAAoB,EAKvB,EAAKC,MAAQ,GACb,EAAKF,eAAkB,IAAK,IAAO,GAAK,EAAKD,mBAAsB,IAAK,GAAM,GAH1D,E,qDAMxB,WACIR,KAAKJ,OAASgB,SAASC,eAAe,UACtCb,KAAKc,gBACLd,KAAKF,IAAME,KAAKJ,OAAQmB,WAAW,MACnCC,OAAOC,iBAAiB,SAAUjB,KAAKc,eACvCE,OAAOE,sBAAsBlB,KAAKmB,KAAKC,KAAKpB,S,kBAGhD,SAAKqB,GAED,GADkBA,EAAOrB,KAAKO,cACdP,KAAKS,eACjBO,OAAOE,sBAAsBlB,KAAKmB,KAAKC,KAAKpB,WADhD,CAKAA,KAAKF,IAAIwB,UAAU,EAAE,EAAEtB,KAAKJ,OAAO2B,MAAMvB,KAAKJ,OAAO4B,QACrDxB,KAAKO,cAAgBc,EAErBrB,KAAKU,WAAY,EAAGV,KAAKQ,kBACzB,IAAIiB,GAAe,EACfzB,KAAKU,UAAY,EAAK,KACtBV,KAAKU,UAAY,EACjBe,GAAe,GAdJ,oBAiBOzB,KAAKC,UAjBZ,IAiBf,2BAAqC,CAAC,IAA3ByB,EAA0B,QAC9BA,EAAQ7B,aACP6B,EAAQP,OAETM,IAC6B,IAAzBC,EAAQ3B,aACP2B,EAAQ3B,eAER2B,EAAQ3B,aAAe,IAzBpB,8BA8BfiB,OAAOE,sBAAsBlB,KAAKmB,KAAKC,KAAKpB,U,2BAGhD,WACIA,KAAKJ,OAAO2B,MAAQP,OAAOW,WAC3B3B,KAAKJ,OAAO4B,OAASR,OAAOY,c,oBAGhC,WACI,OACI,wBAAQC,GAAI,e,GAnEYC,a,OCpBfC,E,WAsBjB,WAAYC,EAAUC,GAAW,yBArB1BD,OAqByB,OApBzBC,OAoByB,OAnBxBC,OAAqB,GAoBzBlC,KAAKgC,EAAIA,EACThC,KAAKiC,EAAIA,E,uCAnBb,WACI,OAAOjC,KAAKkC,OAAOC,MAAK,SAACC,EAAEC,GAEvB,OAAGD,EAAEE,OAASD,EAAEC,OACL,EAERF,EAAEE,OAASD,EAAEC,QACJ,EAEL,M,IAIf,SAAUC,GACNvC,KAAKkC,OAASK,M,KASTC,EAAb,WAoGI,WAAYR,EAASC,EAASrC,EAAe6C,GAAiF,IAYtHC,EAZgDC,EAAqE,uDAAvD,GAAIC,EAAmD,uDAA/B,GAAIC,EAA2B,uDAAH,EAAG,yBAhBtHb,OAgBsH,OAftHC,OAesH,OAdtHU,UAcsH,OAbtHG,UAAoB,EAakG,KAZrHC,aAAuB,EAY8F,KAXrHC,iBAWqH,OAVtHC,MAAuB,GAU+F,KATrHC,eAAyB,EAS4F,KARtHC,YAQsH,OAPtHC,UAAoB,EAOkG,KANrHxD,YAMqH,OALrH6C,UAKqH,OAH7HY,GAAa,EAGgH,KAF7HC,GAAa,EAGTtD,KAAKgC,EAAIA,EACThC,KAAKiC,EAAIA,EACTjC,KAAK2C,KAAOA,EACZ3C,KAAKgD,YAAcJ,EACnB5C,KAAKJ,OAASA,EACdI,KAAKyC,KAAOA,EACU,IAAnBI,GAAuC,KAAfD,IAA4BW,EAAQX,GAAYY,QAGvExD,KAAKkD,eAAiBL,EAFtB7C,KAAKkD,eAAiB,EAMtBR,EADc,KAAfE,EACa,QAAQD,EAERC,EAEhB5C,KAAKmD,OAAS,IAAIM,EAAczB,EAAEC,EAAErC,EAAQ8C,EAAWD,EAAMzC,MAtHrE,4CACI,WACI,OAAOA,KAAKgD,aAFpB,IAKI,SAAeT,GACXvC,KAAKgD,YAAcT,EACnBvC,KAAKmD,OAAS,IAAIM,EAAczD,KAAKgC,EAAGhC,KAAKiC,EAAEjC,KAAKJ,OAAO2C,EAAOvC,KAAKyC,KAAMzC,QAPrF,kBAWI,WACI,MAAqB,KAAdA,KAAK2C,OAZpB,kBAeI,WACI,MAAwB,KAArB3C,KAAKgD,YACGO,EAAQ,QAAQvD,KAAK2C,MAAML,OAE3BiB,EAAQvD,KAAKgD,aAAaV,SAnB7C,sBAwBI,WACI,QAAGtC,KAAK0D,QACD1D,KAAK+C,aA1BpB,IA6BI,SAAeR,GACXvC,KAAK+C,YAAcR,IA9B3B,yBAkCI,WACI,OAAyD,IAAlDoB,EAAYvD,QAAQJ,KAAK2C,KAAKiB,iBAnC7C,uBAqCI,WACI,OAAuD,IAAhDC,EAAUzD,QAAQJ,KAAK2C,KAAKiB,iBAtC3C,0BAwCI,WACI,OAA0D,IAAnDE,EAAa1D,QAAQJ,KAAK2C,KAAKiB,iBAzC9C,gBA4CI,SAAGG,GACC,OAAqC,IAA9B/D,KAAKiD,MAAM7C,QAAQ2D,KA7ClC,2BAgDI,WACI,OAAe,IAAZ/D,KAAKqD,KAAyB,IAAbrD,KAAKsD,IACrBtD,KAAKkD,eAAiB,EACf,GAEI,IAAZlD,KAAKqD,IAAwB,IAAZrD,KAAKsD,IACrBtD,KAAKkD,eAAiB,EACf,GAEI,IAAZlD,KAAKqD,IAAwB,IAAZrD,KAAKsD,IACrBtD,KAAKkD,eAAiB,EACf,IAEK,IAAblD,KAAKqD,IAAyB,IAAZrD,KAAKsD,IACtBtD,KAAKkD,eAAiB,EACf,GAEJlD,KAAKkD,iBAjEpB,8BAoEI,SAAiBc,GACb,OAAiB,IAAdA,EACQ,CAACX,GAAI,EAAGC,IAAK,GAEP,IAAdU,EACQ,CAACX,GAAI,EAAGC,GAAI,GAEN,IAAdU,EACQ,CAACX,GAAI,EAAGC,GAAI,GAEN,IAAdU,EACQ,CAACX,IAAK,EAAGC,GAAI,GAEjB,CAACD,GAAI,EAAGC,GAAI,OAjF3B,KA0HaC,EAA2H,CACpI,KAAgB,CAACvB,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAMT,SAAS,EAAOU,YAAY,GACnF,UAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,KAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAMT,SAAS,EAAOU,YAAY,GACnF,UAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,GAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAMT,SAAS,EAAOU,YAAY,GACnF,QAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,SAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,MAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAMU,YAAY,GACnF,UAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,UAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,QAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,KAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAMU,YAAY,GACnF,UAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,WAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,UAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,YAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,KAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,UAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,MAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,GACpF,WAAgB,CAAClC,EAAE,EAAEC,EAAE,EAAGK,OAAO,GAAI2B,YAAY,EAAOT,SAAS,EAAOU,YAAY,IAG3EP,EAAc,CACvB,OACA,OACA,KACA,QACA,OACA,OACA,SAGSE,EAAY,CACrB,KACA,OAGSC,EAAe,CACxB,MACA,OACA,OACA,SACA,OACA,SClMiBK,E,WAIjB,WAAY1B,GAAa,yBAHlBA,UAGiB,OAFjBQ,MAAuB,GAG1BjD,KAAKyC,KAAOA,E,+CAGhB,WACIzC,KAAKiD,MAAQ,GACb,IAAMR,EAAOzC,KAAKyC,KAAKA,KACjB2B,EAAYxD,SAASC,eAAe,cAC1B,MAAbuD,IACCA,EAAUC,UAAY,IAG1B,IAAK,IAAIpC,EAAI,EAAGA,EAAIjC,KAAKyC,KAAKjB,OAAQS,IAClC,IAAK,IAAID,EAAI,EAAGA,EAAIhC,KAAKyC,KAAKlB,MAAOS,IACjC,IAAK,IAAIsC,EAAI,EAAGA,EAAI7B,EAAKR,GAAGD,GAAGuC,MAAMC,OAAQF,IAAK,CAC9C,IAAMG,EAAUhC,EAAKR,GAAGD,GAAGuC,MAAMD,GACjC,GAAGG,EAAQC,cAAe,CACtB,GAAG1C,EAAE,EAAKhC,KAAKyC,KAAKlB,OAASS,EAAE,EAAKhC,KAAKyC,KAAKlB,MAAO,CAAC,IAAD,gBAC7BkB,EAAKR,GAAGD,EAAE,GAAGuC,OADgB,IACjD,2BAAwC,CAAC,IAA9BI,EAA6B,QACpC,GAAGA,EAAMC,YAAa,CAAC,IAAD,gBACEnC,EAAKR,GAAGD,EAAE,GAAGuC,OADf,IAClB,2BAAwC,CAAC,IAA9BM,EAA6B,SAChCA,EAAMC,gBAAkBD,EAAMH,gBAC9B1E,KAAK+E,QAAQN,EAAQ9B,KAAO,IAAMgC,EAAMhC,KAAO,IAAMkC,EAAMlC,OAHjD,iCAFuB,+BAWrD,GAAGV,EAAE,EAAKjC,KAAKyC,KAAKjB,QAAUS,EAAE,EAAKjC,KAAKyC,KAAKjB,OAAQ,CAAC,IAAD,gBAC/BiB,EAAKR,EAAE,GAAGD,GAAGuC,OADkB,IACnD,2BAAwC,CAAC,IAA9BI,EAA6B,QACpC,GAAGA,EAAMC,YAAa,CAAC,IAAD,gBACEnC,EAAKR,EAAE,GAAGD,GAAGuC,OADf,IAClB,2BAAwC,CAAC,IAA9BM,EAA6B,SAChCA,EAAMC,gBAAkBD,EAAMH,gBAC9B1E,KAAK+E,QAAQN,EAAQ9B,KAAO,IAAMgC,EAAMhC,KAAO,IAAMkC,EAAMlC,OAHjD,iCAFyB,iCAiBvE3C,KAAKiD,MAAQ+B,MAAMC,KAAK,IAAIC,IAAIlF,KAAKiD,QAErCjD,KAAKmF,oBA3CK,oBA8CSnF,KAAKiD,OA9Cd,IA8CV,2BAA+B,CAQ3B,IAR4B,IAArBc,EAAoB,QACrBd,EAAQc,EAAKqB,MAAM,KAEnBxC,EAAaK,EAAM,GAEnBoC,EAAcpC,EAAM,GAEtBqC,EAAsB,GACjBrD,EAAI,EAAGA,EAAIjC,KAAKyC,KAAKjB,OAAQS,IAClC,IAAK,IAAID,EAAI,EAAGA,EAAIhC,KAAKyC,KAAKlB,MAAOS,IACjC,IAAK,IAAIsC,EAAI,EAAGA,EAAItE,KAAKyC,KAAKA,KAAKR,GAAGD,GAAGuC,MAAMC,OAAQF,IAAK,CACxD,IAAMiB,EAAOvF,KAAKyC,KAAKA,KAAKR,GAAGD,GAAGuC,MAAMD,GACpCiB,EAAK3C,aAAeA,GACpB0C,EAAoBpF,KAAKqF,GAMzC,cAAmBD,EAAnB,eAAwC,CAAnC,IAAMC,EAAI,KAQX,QAPyC,IAAtC5B,EAAYvD,QAAQiF,KAGnBrF,KAAKyC,KAAK+C,YAAYtF,KAAK,CAACqF,KAAMA,EAAME,SAAUF,EAAK3C,WAAY8C,SAAU1F,KAAKyC,KAAKkD,SAAS,IAEhG3F,KAAKyC,KAAKmD,YAAY1F,KAAK,CAACqF,KAAMA,EAAMM,cAAeR,KAEnDA,GACJ,IAAK,MACDE,EAAKzC,UAAW,EAChB9C,KAAKyC,KAAKqD,gBAAgB5F,KAAK,CAAC8B,EAAEuD,EAAKvD,EAAEC,EAAEsD,EAAKtD,EAAG8D,MAAK,IACxD,MAEJ,IAAK,OACDR,EAAKS,YAAa,EAClB,MAEJ,QACIT,EAAKtC,MAAM/C,KAAKmF,IAMZ,MAAbjB,IACCA,EAAUC,WAAaN,EAAK,OA3F1B,iC,+BAgGd,WACI/D,KAAKyC,KAAKqD,gBAAkB,GAE5B,IADA,IAAMrD,EAAOzC,KAAKyC,KAAKA,KACdR,EAAI,EAAGA,EAAIjC,KAAKyC,KAAKjB,OAAQS,IAClC,IAAK,IAAID,EAAI,EAAGA,EAAIhC,KAAKyC,KAAKlB,MAAOS,IACjC,IAAK,IAAIsC,EAAI,EAAGA,EAAI7B,EAAKR,GAAGD,GAAGuC,MAAMC,OAAQF,IAAK,CAC9C,IAAMiB,EAAO9C,EAAKR,GAAGD,GAAGuC,MAAMD,GAC9BiB,EAAKzC,UAAW,EAChByC,EAAKS,YAAa,EAClBT,EAAKtC,MAAQ,M,qBAM7B,SAAQc,GACJ/D,KAAKiD,MAAM/C,KAAK6D,O,KCvHXN,EAAb,kDA4BI,WAAYzB,EAAUC,EAAUrC,EAAgB8C,EAAmBD,EAAW8C,GAAY,IAAD,8BACrF,cAAM3F,GAAQ,IA5BXqG,iBAA2B,EA2BuD,EA1BlFC,cAAwB,EA0B0D,EAzBlFC,aAAuB,EAyB2D,EAvBlFzD,eAuBkF,IArBlFzC,SAA8B,GAqBoD,EAnBlF+B,EAAY,EAmBsE,EAlBlFoE,WAAqB,EAkB6D,EAjBlFC,MAAgB,EAiBkE,EAhBjFC,KAAe,EAgBkE,EAdlFrE,EAAY,EAcsE,EAblFsE,WAAqB,EAa6D,EAZlFC,MAAgB,EAYkE,EAXjFC,KAAe,EAWkE,EATlFC,YASkF,IARxEC,gBAQwE,IAPxEC,YAAsB,EAOkD,EANxEC,eAAyB,EAM+C,EALjFzD,UAAoB,EAK6D,EAHlFX,UAGkF,IAFlF8C,UAEkF,EAErF,EAAK7C,UAAYA,EACjB,EAAKD,KAAOA,EACZ,EAAK8C,KAAOA,EACZ,EAAKoB,WAAa,EAAKlE,KAAKkE,WAE5B,EAAK3E,EAAIA,EACT,EAAKoE,WAAapE,EAClB,EAAKqE,MAAQrE,EACb,EAAKC,EAAIA,EACT,EAAKsE,WAAatE,EAClB,EAAKuE,MAAQvE,EAEb,EAAK4E,cAAgBtD,EAAQ,EAAKb,WAAWc,QAC7C,EAAKoD,WAAarD,EAAQ,EAAKb,WAAWuB,WAf2C,EA5B7F,wCA8CI,WAAQ,IAAD,OAIH,GAHAjE,KAAKC,SAAWD,KAAKyC,KAAKxC,SAASD,KAAK0C,gBAGnBoE,IAAlB9G,KAAKC,eAAsF6G,IAA5D9G,KAAKC,SAASD,KAAKiG,kBAAkBjG,KAAKD,cAA5E,CA+BA,GA5BAC,KAAKiG,iBAAmB,EAGrBjG,KAAK6G,gBACJ7G,KAAKiG,iBAA0C,IAAvBjG,KAAKkG,cAAqB,EAA2B,IAAvBlG,KAAKkG,cAAsB,EAA2B,IAAvBlG,KAAKkG,cAAsB,GAA4B,IAAvBlG,KAAKkG,cAAsB,GAAK,GAGtJlG,KAAK4G,aACJ5G,KAAKiG,iBAA0C,IAAvBjG,KAAKkG,cAAqB,EAA2B,IAAvBlG,KAAKkG,cAAsB,EAA2B,IAAvBlG,KAAKkG,cAAsB,GAA4B,IAAvBlG,KAAKkG,cAAsB,GAAK,EAClJlG,KAAKgC,IAAMhC,KAAKoG,YAAcpG,KAAKiC,IAAMjC,KAAKuG,aACpB,IAAtBvG,KAAKmG,aACJnG,KAAKmG,cAAgB,EAErBnG,KAAKmG,aAAe,GAG5BnG,KAAKiG,kBAAoBjG,KAAKmG,cAE/BnG,KAAKgC,IAAMhC,KAAKoG,YAAcpG,KAAKiC,IAAMjC,KAAKuG,aAC7CvG,KAAKsG,KAAOtG,KAAKgC,EAAIhC,KAAKoG,WAC1BpG,KAAKyG,KAAOzG,KAAKiC,EAAIjC,KAAKuG,WAC1BvG,KAAKqG,MAAQrG,KAAKgC,EAAEhC,KAAKsG,KACzBtG,KAAKwG,MAAQxG,KAAKiC,EAAEjC,KAAKyG,MAM1BlD,EAAQvD,KAAK0C,WAAWwB,aAAelE,KAAKoD,SAAU,CACrD,IAAI2D,GAAU,EACVC,GAAW,EACXC,GAAS,EACTC,GAAY,EAGXlH,KAAKgC,EAAE,EAAIhC,KAAKyC,KAAKlB,MAAM,IAAMvB,KAAKyC,KAAKA,KAAKzC,KAAKiC,GAAGjC,KAAKgC,EAAE,GAAGuC,MAAM4C,MAAK,SAAA5E,GAAK,OAAIA,EAAMK,aAAe,EAAKF,eAS7GsE,GAAW,GAGdhH,KAAKgC,EAAE,EAAI,IAAMhC,KAAKyC,KAAKA,KAAKzC,KAAKiC,GAAGjC,KAAKgC,EAAE,GAAGuC,MAAM4C,MAAK,SAAA5E,GAAK,OAAIA,EAAMK,aAAe,EAAKF,eAS7FqE,GAAU,GAGb/G,KAAKiC,EAAE,EAAIjC,KAAKyC,KAAKjB,OAAO,IAAMxB,KAAKyC,KAAKA,KAAKzC,KAAKiC,EAAE,GAAGjC,KAAKgC,GAAGuC,MAAM4C,MAAK,SAAA5E,GAAK,OAAIA,EAAMK,aAAe,EAAKF,eAS9GwE,GAAY,GAGflH,KAAKiC,EAAE,EAAI,IAAMjC,KAAKyC,KAAKA,KAAKzC,KAAKiC,EAAE,GAAGjC,KAAKgC,GAAGuC,MAAM4C,MAAK,SAAA5E,GAAK,OAAIA,EAAMK,aAAe,EAAKF,eAS7FuE,GAAS,GAKbF,IAAWC,GAAaC,GAAWC,EAI9BH,GAAYC,IAAYC,GAAWC,GAInCH,GAAWC,GAAYC,IAAWC,EACvClH,KAAKiG,kBAAoB,GAGrBc,GAAYC,GAAaC,GAAWC,EAIpCH,GAAWC,IAAaC,IAAWC,EACvClH,KAAKiG,kBAAoB,EAGrBc,IAAYC,GAAYC,IAAWC,EACvClH,KAAKiG,kBAAoB,EAGrBc,GAAWC,GAAYC,IAAWC,EACtClH,KAAKiG,kBAAoB,EAGpBc,GAAYC,GAAaC,IAAUC,GAInCH,GAAWC,IAAaC,GAAUC,EACvClH,KAAKiG,kBAAoB,GAGpBc,IAAYC,GAAYC,GAAUC,EACvClH,KAAKiG,kBAAoB,IAGpBc,GAAWC,GAAYC,GAAUC,EACtClH,KAAKiG,kBAAoB,GAGrBc,IAAYC,IAAaC,GAAUC,EACvClH,KAAKiG,kBAAoB,GAGrBc,GAAWC,IAAaC,GAAUC,EACtClH,KAAKiG,kBAAoB,GAGrBc,IAAYC,GAAYC,GAAUC,EACtClH,KAAKiG,kBAAoB,GAGrBc,GAAWC,GAAYC,GAAUC,IACrClH,KAAKiG,kBAAoB,IA5BzBjG,KAAKiG,kBAAoB,EAhBzBjG,KAAKiG,kBAAoB,EARzBjG,KAAKiG,kBAAoB,EAJzBjG,KAAKiG,kBAAoB,EA8DjCjG,KAAKF,IAAIsH,uBAAwB,OAE8BN,IAA5D9G,KAAKC,SAASD,KAAKiG,kBAAkBjG,KAAKD,gBAE7CC,KAAKF,IAAIuH,UAAUrH,KAAKC,SAASD,KAAKiG,kBAAkBjG,KAAKD,cAAeC,KAAKqG,MAAMrG,KAAK2G,WAAW3G,KAAK0G,OAAO1E,EAAEhC,KAAKwG,MAAMxG,KAAK2G,WAAW3G,KAAK0G,OAAOzE,EAAGjC,KAAK2G,WAAY3G,KAAK2G,YAElLW,WAAWtH,KAAKqG,MAAMkB,QAAQ,MAAQvH,KAAKgC,GAAKsF,WAAWtH,KAAKwG,MAAMe,QAAQ,MAAQvH,KAAKiC,GAC1FjC,KAAKqG,OAAQ,GAAIrG,KAAKsG,KACtBtG,KAAKwG,OAAQ,GAAIxG,KAAKyG,KACtBzG,KAAKoD,UAAW,EAChBpD,KAAKuF,KAAKnC,UAAW,IAErBpD,KAAKoD,UAAW,EAChBpD,KAAKuF,KAAKnC,UAAW,GAGzBpD,KAAKoG,WAAapG,KAAKgC,EACvBhC,KAAKuG,WAAavG,KAAKiC,QA1N/B,GAAmCtC,GA8Nd6H,E,kDA2BjB,WAAY5H,EAAgB2B,EAAeC,EAAgBmF,GAAqB,IAAD,8BAC3E,cAAM/G,IA3BH2B,WA0BwE,IAzBxEC,YAyBwE,IAvBxEmF,gBAuBwE,IArBxElE,KAA2B,GAqB6C,EApBvEiE,YAoBuE,IAlBxEZ,gBAAkE,GAkBM,EAhBxE7F,SAAiC,GAgBuC,EAdvEwH,eAcuE,IAZxEC,QAAkB,EAYsD,EAVxEC,UAAkF,GAUV,EATxEnC,YAAoE,GASI,EAPxEI,YAA0D,GAOc,EALxED,SAAW,EAK6D,EAJxE1C,MAAe,IAAIkB,EAAJ,gBAIyD,EAFxEyD,iBAA2B,EAI9B,EAAKrG,MAAQA,EACb,EAAKC,OAASA,EACd,EAAKmF,WAAaA,EAClB,EAAKkB,gBACL,EAAKC,YACL,EAAKC,eAAexG,EAAOC,GAC3B,EAAKwG,qBACL,EAAK/E,MAAMgF,cACX,EAAKrI,OAAOA,OAAOqB,iBAAiB,QAAS,EAAKiH,cAAc9G,KAAnB,iBAV8B,E,iDAa/E,WACI,IADa,IAAD,oBACP,IAAM+G,EAAG,KAEJlI,EAA8B,GAE9B4G,EAAgBtD,EAAQ4E,GAAK3E,QAC7BoD,EAAarD,EAAQ4E,GAAKlE,WAE5BmE,EAAqB,EACtBvB,IACCuB,EAAqB,IAEtBxB,IACCwB,EAAqB,IAEtB7E,EAAQ4E,GAAKjE,aACZkE,EAAqB,IAIzB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAmB,EAAGC,IAAK,CAC3CpI,EAASoI,GAAK,GACd,IAAK,IAAI/D,EAAI,EAAGA,EAAI,EAAGA,IACnBrE,EAASoI,GAAG/D,QAAKwC,EAKzB,IAAIwB,EAAU,IAAIC,MAAM,EAAE,GAC1BD,EAAQE,IAAMC,wCACdH,EAAQI,OAAS,WACb,IADoB,IAAD,WACVL,GACL,IAFe,eAEN/D,GAGL,IAAIqE,EAAM,IAAIJ,MAAM,GAAG,IACpB3B,EACC+B,EAAIH,IAAMC,oBAA+BN,EAAM,IAAMA,EAAM,IAAME,EAAI,IAAM/D,EAAI,OACxE6D,EAAIS,SAAS,QACpBD,EAAIH,IAAMC,0BAAuCN,EAAM,IAAME,EAAI,IAAM/D,EAAI,OAE3EqE,EAAIH,IAAMC,4BAAyCN,EAAM,IAAME,EAAI,IAAM/D,EAAI,OAIpE1D,SAASiI,cAAc,UACnB9H,WAAW,MAM5B4H,EAAID,OAAS,WACT,IACI5I,EADSc,SAASiI,cAAc,UACnB9H,WAAW,MAC5B,GAAW,OAARjB,EAAc,CACbA,EAAIsH,uBAAwB,EAE5BtH,EAAIuH,UAAUiB,EAAS,IAAK,IAAKA,EAAQ/G,MAAM+G,EAAQ9G,QACvD,IAAMsH,EAAchJ,EAAIiJ,aAAa,IAAI,IAAKT,EAAQ/G,MAAM+G,EAAQ9G,QAGpE1B,EAAIuH,UAAUsB,EAAK,EAAG,EAAG,EAAKhC,WAAW,EAAG,EAAKA,WAAW,GAU5D,IATA,IAAMqC,EAAYlJ,EAAIiJ,aAAa,EAAE,EAAE,EAAKpC,WAAW,EAAG,EAAKA,WAAW,GACtEsC,EAAUD,EAAUE,KAGlBlH,EAAIuB,EAAQ4E,GAAKnG,EAEjBmH,EAAmB,EADf5F,EAAQ4E,GAAKlG,EACMD,GAAM,EAG1BsC,EAAG,EAAGA,EAAI2E,EAAQzE,OAAQF,GAAK,EAClB,MAAf2E,EAAQ3E,KACP2E,EAAQ3E,GAAKwE,EAAYI,KAAKC,GAC9BF,EAAQ3E,EAAE,GAAKwE,EAAYI,KAAKC,EAAY,GAC5CF,EAAQ3E,EAAE,GAAKwE,EAAYI,KAAKC,EAAY,IAKpD,IAAIC,EAAUxI,SAASiI,cAAc,UACrCO,EAAQ7H,MAAQyH,EAAUzH,MAC1B6H,EAAQ5H,OAASwH,EAAUxH,OAC3B,IAAI6H,EAAOD,EAAQrI,WAAW,MAClB,OAATsI,GACCA,EAAKC,aAAaN,EAAW,EAAG,GAGpC/I,EAASoI,GAAG/D,GAAK8E,EACjB,EAAKnJ,SAASkI,GAAOlI,KA1DxBqE,EAAI,EAAGA,EAAI,EAAGA,IAAM,EAApBA,IADJ+D,EAAI,EAAGA,EAAID,EAAmB,EAAGC,IAAM,EAAvCA,KA9BjB,MAAkBkB,OAAOC,KAAKjG,GAA9B,eAAyC,M,uBAkG7C,WACIvD,KAAK0G,OAAS,CAAC1E,EAAEyH,KAAKC,MAAM1I,OAAOW,WAAW,EAAG3B,KAAKuB,MAAM,EAAEvB,KAAK2G,YAAc1E,EAAEwH,KAAKC,MAAM1I,OAAOY,YAAY,EAAG5B,KAAKwB,OAAO,EAAExB,KAAK2G,e,gCAG3I,WACI3G,KAAKyH,UAAYzH,KAAK2J,a,4BAG1B,SAAepI,EAAcC,GACzB,IAAK,IAAIS,EAAI,EAAGA,EAAIT,EAAQS,IAAK,CAE7B,IADA,IAAM2H,EAAW,GACR5H,EAAI,EAAGA,EAAIT,EAAOS,IACvB4H,EAAS1J,KAAK,IAAI6B,EAAKC,EAAEC,IAE7BjC,KAAKyC,KAAKvC,KAAK0J,GAEnB,IAAK,IAAI3H,EAAI,EAAGA,EAAIT,EAAQS,IACxB,IAAK,IAAID,EAAI,EAAGA,EAAIT,EAAOS,IACf,IAAJA,GAAa,IAAJC,GACTjC,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAMrE,KAAK,IAAIsC,EAAKR,EAAEC,EAAEjC,KAAKJ,OAAOI,KAAM,GAAI,SAE1D,IAAJgC,GAAa,IAAJC,GACTjC,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAMrE,KAAK,IAAIsC,EAAKR,EAAEC,EAAEjC,KAAKJ,OAAOI,KAAK,GAAI,SAOzD,IAAJgC,GAAa,IAAJC,GACTjC,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAMrE,KAAK,IAAIsC,EAAKR,EAAEC,EAAEjC,KAAKJ,OAAOI,KAAK,SAErD,IAAJgC,GAAa,IAAJC,GACTjC,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAMrE,KAAK,IAAIsC,EAAKR,EAAEC,EAAEjC,KAAKJ,OAAOI,KAAK,OAErD,IAAJgC,GAAa,IAAJC,GACTjC,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAMrE,KAAK,IAAIsC,EAAKR,EAAEC,EAAEjC,KAAKJ,OAAOI,KAAK,U,2BAazE,SAAc6J,GACV,IAAMC,EAAOD,EAAEE,QAAU/J,KAAK0G,OAAO1E,EAC/BgI,EAAOH,EAAEI,QAAUjK,KAAK0G,OAAOzE,EAC/BiI,EAAU,CAAClI,EAAGyH,KAAKC,MAAMI,EAAK9J,KAAK2G,YAAa1E,EAAGwH,KAAKC,MAAMM,EAAKhK,KAAK2G,aAC9E,KAAGuD,EAAQlI,EAAI,GAAKkI,EAAQlI,GAAKhC,KAAKuB,OAAS2I,EAAQjI,EAAI,GAAKiI,EAAQjI,GAAKjC,KAAKwB,QAAlF,CAGA,IAAMmB,EAAOwH,OAAO,iBACR,OAATxH,GAIK3C,KAAKyC,KAAKyH,EAAQjI,GAAGiI,EAAQlI,GAAGuC,MAAMrE,KAAK,IAAIsC,EAAK0H,EAAQlI,EAAEkI,EAAQjI,EAAEjC,KAAKJ,OAAOI,KAAK2C,IAGjG3C,KAAKiD,MAAMgF,iB,wBAKf,WAEI,IADA,IAAImC,EAAa,GACRnI,EAAI,EAAGA,EAAIjC,KAAKwB,OAAQS,IAC7B,IAAK,IAAID,EAAI,EAAGA,EAAIhC,KAAKuB,MAAOS,IAAK,CAAC,IAAD,gBACdhC,KAAKyC,KAAKR,GAAGD,GAAGuC,OADF,IACjC,2BAA0C,CAAC,IAAhCgB,EAA+B,QACtC,GAAGA,EAAK8E,GAAG,QAAS,CAChB,IAAIC,EAAM/E,EAAKgF,iBAAiBhF,EAAKW,iBACjClG,KAAKwK,gBAAgBjF,EAAM+E,EAAIjH,GAAIiH,EAAIhH,MACvCgH,EAAM,CAACjH,IAAIiH,EAAIjH,GAAIC,IAAIgH,EAAIhH,KAE/B8G,EAAWlK,KAAK,CAACqF,KAAKA,EAAMlC,GAAGiH,EAAIjH,GAAIC,GAAGgH,EAAIhH,KAElD,GAAGiC,EAAK8E,GAAG,WACJrK,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAM4C,MAAK,SAAA5E,GAAK,OAAIA,EAAMO,YAAW,CAAC,IAAD,gBAC3B9C,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAMkG,QAAO,SAAAlI,GAAK,OAAIA,EAAMO,aADjB,IACpD,2BAAgF,CAAC,IAAtE4H,EAAqE,QAC5E1K,KAAKwF,YAAYtF,KAAK,CAACqF,KAAMmF,EAAYjF,SAAUiF,EAAW9H,WAAY8C,SAAU1F,KAAK2F,SAAS,IAClG+E,EAAW9H,WAAa,IAHwB,iCAV/B,+BAqBzC,cAAwBwH,EAAxB,eAAoC,CAA/B,IAAMO,EAAS,KAChB3K,KAAK4K,SAASD,EAAUpF,KAAMoF,EAAUtH,GAAIsH,EAAUrH,O,6BAI9D,SAAgBiC,EAAWlC,EAAWC,GAClC,IAAMb,EAAOzC,KAAKyC,KAEZT,EAAIuD,EAAKvD,EACTC,EAAIsD,EAAKtD,EAEf,GAAGD,EAAEqB,EAAK,GAAKrB,EAAEqB,EAAKrD,KAAKuB,MAAM,GAAKU,EAAEqB,EAAK,GAAKrB,EAAEqB,EAAKtD,KAAKwB,OAAO,EAAG,OAAO,EAC/E,IAAK,IAAI8C,EAAI,EAAGA,EAAI7B,EAAKR,EAAEqB,GAAItB,EAAEqB,GAAIkB,MAAMC,OAAQF,IAAK,CACpD,IAAMuG,EAAWpI,EAAKR,EAAEqB,GAAItB,EAAEqB,GAAIkB,MAAMD,GACxC,GAAGuG,EAAS7E,WAAY,CAEpB,GAAG6E,EAAS7I,EAAEqB,EAAK,GAAKwH,EAAS7I,EAAEqB,EAAKrD,KAAKuB,MAAM,GAAKsJ,EAAS5I,EAAEqB,EAAK,GAAKuH,EAAS5I,EAAEqB,EAAKtD,KAAKwB,OAAO,EAAG,OAAO,EAGnH,GAAuD,IAApDiB,EAAKoI,EAAS5I,EAAEqB,GAAIuH,EAAS7I,EAAEqB,GAAIkB,MAAMC,OAExC,OADAxE,KAAK4K,SAASC,EAAUxH,EAAGC,IACpB,EAEX,IAAK,IAAI+E,EAAI,EAAGA,EAAI5F,EAAKoI,EAAS5I,EAAEqB,GAAIuH,EAAS7I,EAAEqB,GAAIkB,MAAMC,OAAQ6D,IACjE,GAAGrI,KAAKwK,gBAAgBK,EAAUxH,EAAIC,GAElC,OADAtD,KAAK4K,SAASC,EAAUxH,EAAGC,IACpB,EAGf,OAAO,EACJ,GAAGuH,EAASR,GAAG,QAClB,OAAO,EAGf,OAAO,I,sBAGX,SAAS9E,EAAYlC,EAAWC,GAAwH,IAA7GwH,EAA4G,wDAA7EC,EAA6E,wDAA3CC,EAA2C,wDAEnJ,IAAIF,IAAkB9K,KAAKwK,gBAAgBjF,EAAMlC,EAAIC,GACjD,OAAO,EAGX,IAAM2H,EAAUjL,KAAKyC,KAAK8C,EAAKtD,GAAGsD,EAAKvD,GACjCkJ,EAAWlL,KAAKyC,KAAK8C,EAAKtD,EAAEqB,GAAIiC,EAAKvD,EAAEqB,GAwB7C,OAtBAkC,EAAKvD,GAAKqB,EACVkC,EAAKtD,GAAKqB,EAEP0H,GACCzF,EAAKlC,IAAMA,EACXkC,EAAKjC,IAAMA,IAEXiC,EAAKlC,GAAKA,EACVkC,EAAKjC,GAAKA,GAGd4H,EAAS3G,MAAMrE,KAAKqF,GACpB0F,EAAQ1G,MAAM4G,OAAOF,EAAQ1G,MAAMnE,QAAQmF,GAAO,GAG9CwF,IACA/K,KAAK4H,iBAAkB,EACpB5H,KAAK2H,UAAUnD,OAAO,IAAMxE,KAAK2F,UAChC3F,KAAK2H,UAAUzH,KAAK,IAExBF,KAAK2H,UAAU3H,KAAK2F,UAAUzF,KAAK,CAACqF,KAAK2F,EAAS3G,MAAM2G,EAAS3G,MAAM6G,WAAU,SAAA7I,GAAK,OAAIA,IAAUgD,MAAQlC,IAAKA,EAAGC,IAAKA,EAAI+H,UAAS,MAEnI,I,kBAOX,WACI,GAAIrL,KAAK0H,OAAT,CACA1H,KAAKF,IAAIwB,UAAU,EAAE,EAAEtB,KAAKJ,OAAOA,OAAO2B,MAAMvB,KAAKJ,OAAOA,OAAO4B,QACnExB,KAAKF,IAAIsH,uBAAwB,EAEjCpH,KAAKF,IAAIuH,UAAUrH,KAAKyH,UAAWzH,KAAK0G,OAAO1E,EAAGhC,KAAK0G,OAAOzE,GAC9D,IAAK,IAAIqJ,EAAK,EAAGA,EAAK,GAAIA,IACtB,IAAK,IAAIrJ,EAAI,EAAGA,EAAIjC,KAAKwB,OAAQS,IAC7B,IAAK,IAAID,EAAI,EAAGA,EAAIhC,KAAKuB,MAAOS,IAC5B,IAAK,IAAIqG,EAAI,EAAGA,EAAIrI,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAMC,OAAQ6D,IAAI,CAClD,IAAM9C,EAAOvF,KAAKyC,KAAKR,GAAGD,GAAGuC,MAAM8D,GACnC,GAAuB,KAApB9C,EAAK3C,WAAmB,CACvB,GAAGW,EAAQgC,EAAK3C,YAAYN,SAAWgJ,EAAI,SAG3C,IAAM5J,EAAU6D,EAAKpC,OACrBzB,EAAQM,EAAIA,EACZN,EAAQO,EAAIA,EACZP,EAAQe,KAAOzC,KACf0B,EAAQwE,cAAgBX,EAAKW,gBAC7BxE,EAAQgF,OAAS1G,KAAK0G,OACtBhF,EAAQP,OAEZ,GAAGoE,EAAK7B,OAAQ,CACZ,GAAGH,EAAQ,QAAQgC,EAAK5C,MAAML,SAAWgJ,EAAI,SAE7C,IAAM5J,EAAU6D,EAAKpC,OACrBzB,EAAQM,EAAIA,EACZN,EAAQO,EAAIA,EACZP,EAAQe,KAAOzC,KACf0B,EAAQgF,OAAS1G,KAAK0G,OACtBhF,EAAQP,Y,sBAQhC,WACI,IAAMI,EAAQvB,KAAKuB,MACbC,EAASxB,KAAKwB,OACdmF,EAAa3G,KAAK2G,WAElB/G,EAASgB,SAASiI,cAAc,UACtCjJ,EAAO2B,MAAQA,EAAMoF,EACrB/G,EAAO4B,OAASA,EAAOmF,EACvB,IAAM7G,EAAMF,EAAOmB,WAAW,MAC9B,GAAGjB,EAAK,CACJA,EAAIsH,uBAAwB,EAC5BtH,EAAIyL,yBAA2B,cAC/BzL,EAAI0L,YAAc,gBAClB1L,EAAI2L,UAAY,gBAChB3L,EAAI4L,YACJ,IAAK,IAAI1J,EAAI,EAAGA,EAAIT,EAAOS,IACvBlC,EAAI6L,OAAO3J,EAAE2E,EAAY,GACzB7G,EAAI8L,OAAO5J,EAAE2E,EAAYnF,EAAOmF,GAEpC7G,EAAI+L,SACJ/L,EAAI4L,YACJ,IAAK,IAAIzJ,EAAI,EAAGA,EAAIV,EAAOU,IACvBnC,EAAI6L,OAAO,EAAG1J,EAAE0E,GAChB7G,EAAI8L,OAAOrK,EAAMoF,EAAY1E,EAAE0E,GAEnC7G,EAAI+L,SAEJ/L,EAAI4L,YACJ5L,EAAI6L,OAAOpK,EAAMoF,EAAY,GAC7B7G,EAAI8L,OAAOrK,EAAMoF,EAAYnF,EAAOmF,GACpC7G,EAAI+L,SACJ/L,EAAI4L,YACJ5L,EAAI6L,OAAO,EAAGnK,EAAOmF,GACrB7G,EAAI8L,OAAOrK,EAAMoF,EAAYnF,EAAOmF,GACpC7G,EAAI+L,SAGR,OAAOjM,M,GA/XmBD,GC5NbmM,E,kDAOjB,WAAYxL,GAAa,IAAD,8BACpB,cAAMA,IAPFV,YAMgB,IALhB6C,UAKgB,IAJhBsJ,SAAmB,EAIH,EAHhBC,YAAsB,EAGN,EAFhBC,cAEgB,EAEpB,EAAKtL,MAAQ,GAFO,E,qDAKxB,WACQX,KAAKJ,SACLI,KAAKyC,KAAO,IAAI+E,EAAKxH,KAAKJ,OAAQ,GAAI,GAAI,IAC1CoB,OAAOC,iBAAiB,SAAUjB,KAAKyC,KAAKqF,UAAU1G,KAAKpB,KAAKyC,OAChEzB,OAAOC,iBAAiB,UAAUjB,KAAKkM,cAAc9K,KAAKpB,OAAM,GAChEgB,OAAOC,iBAAiB,QAAQjB,KAAKmM,YAAY/K,KAAKpB,OAAM,M,yBAapE,SAAYqD,EAAWC,GAAY,IAAD,OAC9B,GAAItD,KAAK+L,SAC+B,IAArC/L,KAAKyC,KAAKqD,gBAAgBtB,OAAc,CACvCxE,KAAKyC,KAAKkF,UAAUnD,OAASxE,KAAKyC,KAAKkD,SACnC3F,KAAKyC,KAAKkF,UAAUnD,OAAS,KAC7BxE,KAAKyC,KAAKkF,UAAUyE,QACpBpM,KAAKyC,KAAKkD,YAEd,IANuC,EAMnC0G,EAAU,EANyB,cAOrBrM,KAAKyC,KAAKqD,iBAPW,IAOvC,2BAA6C,CAAC,IAAnCwG,EAAkC,QACzC,GAAIA,EAAIvG,KACJuG,EAAIvG,MAAO,MADf,CAIA,IAAMwG,EAAiBvM,KAAKyC,KAAKA,KAAK6J,EAAIrK,GAAGqK,EAAItK,GAAGuC,MAAMiI,MAAK,SAAAC,GAAC,OAAIA,EAAE3J,YACjD,MAAlByJ,IACKvM,KAAKyC,KAAKmI,SAAS2B,EAAgBlJ,EAAIC,IAAK+I,IAChDC,EAAIvG,MAAO,KAfoB,8BAkBvC/F,KAAKyC,KAAKiK,aACV1M,KAAKyC,KAAKQ,MAAMgF,cAChB,IApBuC,EAoBnC0E,EAAqB,EApBc,cAqBpB3M,KAAKyC,KAAKQ,MAAMA,OArBI,IAqBvC,2BAA0C,CACZ,QADY,QAC9BmC,MAAM,KAAK,IACfuH,KAvB+B,8BAgCvC,IALGN,IAAYrM,KAAKyC,KAAKqD,gBAAgBtB,QAAUmI,IAAuB3M,KAAKyC,KAAKQ,MAAMA,MAAMuB,QAAUxE,KAAKyC,KAAKmF,mBAChH5H,KAAKyC,KAAKkD,WACV3F,KAAKyC,KAAKmF,iBAAkB,GAGI,IAAjC5H,KAAKyC,KAAKmD,YAAYpB,OAAc,CAAC,IAAD,gBACTxE,KAAKyC,KAAKmD,aADD,IACnC,2BAAiD,CAAC,IAAvCA,EAAsC,QAC7CA,EAAYL,KAAK3C,WAAagD,EAAYC,eAFX,8BAInC7F,KAAKyC,KAAKQ,MAAMkC,oBAEpBnF,KAAKyC,KAAKQ,MAAMgF,cAEhBjI,KAAK+L,SAAU,EAEfa,YAAW,WACP,EAAKb,SAAU,IAChB,Q,uBAIX,WACI,KAAG/L,KAAKyC,KAAKkD,SAAS,EAAI,GAE1B,GADA3F,KAAK+L,SAAU,EACZ/L,KAAKyC,KAAKkF,UAAUnD,OAASxE,KAAKyC,KAAKkD,SACtCkH,QAAQC,MAAM,2BAA6B9M,KAAKyC,KAAKkF,UAAY,QAAU3H,KAAKyC,KAAKkD,cADzF,CAKA,IADA,IAAMgC,EAAY3H,KAAKyC,KAAKkF,UAAU3H,KAAKyC,KAAKkD,SAAS,GAAGxF,QACnDmE,EAAIqD,EAAUnD,OAAO,EAAGF,GAAK,EAAGA,IAAK,CAC1C,IAAMyI,EAAWpF,EAAUrD,GAC3BtE,KAAKyC,KAAKmI,SAASmC,EAASxH,KAAMwH,EAAS1J,GAAI0J,EAASzJ,IAAG,GAAM,GAAM,GAF7B,oBAGjBtD,KAAKyC,KAAK+C,aAHO,IAG1C,2BAAgD,CAAC,IAAtCwH,EAAqC,QACzCA,EAAWtH,WAAa1F,KAAKyC,KAAKkD,WACjCqH,EAAWzH,KAAK3C,WAAaoK,EAAWvH,SACxCzF,KAAKyC,KAAKmD,YAAc,KANU,+BAU9C5F,KAAKyC,KAAKQ,MAAMgF,cAChBjI,KAAKyC,KAAKkD,WACV3F,KAAKgM,YAAa,EAClBhM,KAAK+L,SAAU,K,2BAGnB,SAAclC,GAAmB,IAAD,OACzBA,EAAEoD,aACgBnG,IAAlB9G,KAAKiM,WACK,MAAVpC,EAAE1B,KACDnI,KAAKkN,YAAY,GAAG,GACpBlN,KAAKiM,SAAWkB,aAAY,kBAAM,EAAKD,YAAY,GAAG,KAAI,MAE5C,MAAVrD,EAAE1B,KACNnI,KAAKkN,aAAa,EAAE,GACpBlN,KAAKiM,SAAWkB,aAAY,kBAAM,EAAKD,aAAa,EAAE,KAAI,MAC1C,MAAVrD,EAAE1B,KACRnI,KAAKkN,YAAY,EAAE,GACnBlN,KAAKiM,SAAWkB,aAAY,kBAAM,EAAKD,YAAY,EAAE,KAAI,MACzC,MAAVrD,EAAE1B,KACRnI,KAAKkN,YAAY,EAAE,GACnBlN,KAAKiM,SAAWkB,aAAY,kBAAM,EAAKD,YAAY,EAAE,KAAI,MAE3C,MAAVrD,EAAE1B,MACNnI,KAAK2H,YACL3H,KAAKiM,SAAWkB,aAAY,kBAAM,EAAKxF,cAAa,S,yBAG5D,SAAYkC,GACLA,EAAEoD,SACLG,cAAcpN,KAAKiM,UACnBjM,KAAKiM,cAAWnF,K,oBAKpB,WAAU,IAAD,OAEL,OACI,qCACI,mBAAGuG,KAAK,0CAA0CC,OAAO,SAASC,IAAI,aAAtE,SACI,qBAAKC,UAAW,SAAUhF,ICjJ/B,q8GDiJ6CiF,IAAK,aAEjD,wBAAQC,MAAO,CAACC,SAAU,WAAYC,IAAK,QAASC,QAAS,kBAAMhB,QAAQiB,IAAI,EAAKrL,OAApF,kBACA,qBAAKZ,GAAI,aAAc6L,MAAO,CAACC,SAAU,WAAYC,IAAK,OAAQG,KAAM,OAAQC,UAAW,UAC3F,cAAC,EAAD,CAAQC,IAAK,SAAAC,GAAE,OAAI,EAAKtO,OAASsO,Y,GA/IfpM,aEQnBqM,MAVf,WACE,OACE,qBAAKX,UAAU,MAAf,SACE,wBAAQA,UAAU,aAAlB,SACI,cAAC,EAAD,SCMKY,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnO,SAASC,eAAe,SAM1BuN,M","file":"static/js/main.7abdd1b3.chunk.js","sourcesContent":["import {Component} from \"react\";\n\nexport class Drawing {\n    public canvas: Canvas;\n    public ctx: CanvasRenderingContext2D;\n    public currentFrame: number = 1;\n    public isAutoDrawn: boolean;\n    constructor(canvas: Canvas, isAutoDrawn: boolean = true) {\n        this.canvas = canvas;\n        this.isAutoDrawn = isAutoDrawn;\n        this.canvas.drawings.push(this);\n        this.ctx = canvas.ctx;\n    }\n\n    draw() {\n\n    }\n\n    remove() {\n        this.canvas.drawings.slice(this.canvas.drawings.indexOf(this), 1)\n    }\n}\n\nexport default class Canvas extends Component {\n\n    public drawings: Array<Drawing> = []\n\n    public canvas!: any\n    public ctx! : CanvasRenderingContext2D ;\n\n    private lastFrameTime!: number;\n    public FRAMES_PER_SECOND: number = 60;\n    private readonly FRAME_MIN_TIME;\n    public frameTime: number = 0;\n\n\n    constructor(props: any) {\n        super(props);\n        this.state = {}\n        this.FRAME_MIN_TIME = (1000/60) * (60 / this.FRAMES_PER_SECOND) - (1000/60) * 0.5;\n    }\n\n    componentDidMount() {\n        this.canvas = document.getElementById(\"canvas\");\n        this.rescaleCanvas()\n        this.ctx = this.canvas!.getContext(\"2d\")\n        window.addEventListener(\"resize\", this.rescaleCanvas)\n        window.requestAnimationFrame(this.draw.bind(this))\n    }\n\n    draw(time: number) {\n        const deltaTime = time - this.lastFrameTime\n        if (deltaTime < this.FRAME_MIN_TIME) {\n            window.requestAnimationFrame(this.draw.bind(this));\n            return;\n        }\n\n        this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)\n        this.lastFrameTime = time;\n\n        this.frameTime+=(1/(this.FRAMES_PER_SECOND))\n        let advanceFrame = false;\n        if((this.frameTime % 1) > 0.200){\n            this.frameTime = 0;\n            advanceFrame = true;\n        }\n\n        for (const drawing of this.drawings) {\n            if(drawing.isAutoDrawn) {\n                drawing.draw()\n            }\n            if(advanceFrame) {\n                if(drawing.currentFrame !== 3) {\n                    drawing.currentFrame++;\n                } else  {\n                    drawing.currentFrame = 1;\n                }\n            }\n        }\n\n        window.requestAnimationFrame(this.draw.bind(this))\n    }\n\n    rescaleCanvas() {\n        this.canvas.width = window.innerWidth;\n        this.canvas.height = window.innerHeight\n    }\n\n    render() {\n        return (\n            <canvas id={\"canvas\"}/>\n        )\n    }\n}","import Grid, {AnimatedImage} from \"./Grid\";\nimport Canvas from \"./Canvas\";\n\nexport default class Tile {\n    public x:number;\n    public y:number;\n    private _nodes:Array<Node> = []\n\n    get nodes(): Array<Node> {\n        return this._nodes.sort((a,b) => {\n\n            if(a.zIndex > b.zIndex) {\n                return 1;\n            }\n            if(a.zIndex < b.zIndex) {\n                return -1;\n            }\n            return 0;\n        });\n    }\n\n    set nodes(value: Array<Node>) {\n        this._nodes = value;\n    }\n\n    constructor(x:number, y:number) {\n        this.x = x;\n        this.y = y;\n    }\n}\n\nexport class Node {\n    get objectName(): string {\n        return this._objectName;\n    }\n\n    set objectName(value: string) {\n        this._objectName = value;\n        this.aniImg = new AnimatedImage(this.x, this.y,this.canvas,value, this.grid, this)\n    }\n\n    // Text\n    get isText(): boolean {\n        return this.text !== \"\"\n    }\n\n    get zIndex(): number {\n        if(this._objectName === \"\") {\n            return Objects[\"text_\"+this.text].zIndex\n        } else {\n            return Objects[this._objectName].zIndex\n        }\n    }\n\n\n    get isPushable(): boolean {\n        if(this.isText) return true;\n        return this._isPushable;\n    }\n\n    set isPushable(value: boolean) {\n        this._isPushable = value;\n    }\n\n    // Is object, verb or quality\n    get isText_Object(): boolean {\n        return objectNames.indexOf(this.text.toLowerCase()) !== -1;\n    }\n    get isText_Verb(): boolean {\n        return verbNames.indexOf(this.text.toLowerCase()) !== -1;\n    }\n    get isText_Quality(): boolean {\n        return qualityNames.indexOf(this.text.toLowerCase()) !== -1;\n    }\n\n    is(rule: string): boolean {\n        return this.rules.indexOf(rule) !== -1;\n    }\n\n    lastDirection():number {\n        if(this.xP === 0 && this.yP === -1) {\n            this._lastDirection = 0;\n            return 0;\n        }\n        if(this.xP === 1 && this.yP === 0) {\n            this._lastDirection = 1;\n            return 1;\n        }\n        if(this.xP === 0 && this.yP === 1) {\n            this._lastDirection = 2;\n            return 2;\n        }\n        if(this.xP === -1 && this.yP === 0) {\n            this._lastDirection = 3;\n            return 3;\n        }\n        return this._lastDirection;\n    }\n\n    directionToXAndY(direction: number): {xP:number, yP:number} {\n        if(direction === 0) {\n            return {xP: 0, yP: -1}\n        }\n        if(direction === 1) {\n            return {xP: 1, yP: 0}\n        }\n        if(direction === 2) {\n            return {xP: 0, yP: 1}\n        }\n        if(direction === 3) {\n            return {xP: -1, yP: 0}\n        }\n        return {xP: 0, yP: 0}\n    }\n\n    public x: number;\n    public y: number;\n    public text: string;\n    public isPlayer: boolean = false;\n    private _isPushable: boolean = false;\n    private _objectName: string;\n    public rules: Array<string> = [];\n    private _lastDirection: number = 1;\n    public aniImg!: AnimatedImage;\n    public isMoving: boolean = false;\n    private canvas: Canvas;\n    private grid: Grid;\n\n    xP: number = 0;\n    yP: number = 0;\n\n    constructor(x:number,y:number,canvas:Canvas, grid:Grid, text:string = \"\", objectName:string = \"\", startDirection:number = 1) {\n        this.x = x;\n        this.y = y;\n        this.text = text;\n        this._objectName = objectName\n        this.canvas = canvas;\n        this.grid = grid;\n        if(startDirection === 1 && objectName === \"\" ? false : Objects[objectName].hasDirs) {\n            this._lastDirection = 2\n        } else {\n            this._lastDirection = startDirection;\n        }\n        let imageName;\n        if(objectName === \"\") {\n            imageName = \"text_\"+text;\n        } else {\n            imageName = objectName;\n        }\n        this.aniImg = new AnimatedImage(x,y,canvas, imageName, grid, this)\n    }\n}\n\nexport const Objects: {[key:string]: {x:number, y:number, zIndex:number, hasWalkAni: boolean, hasDirs: boolean, isTileable: boolean}} = {\n    \"babu\":         {x:0,y:3, zIndex:24, hasWalkAni: true, hasDirs: false, isTileable: false},\n    \"text_babu\":    {x:4,y:1, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"keke\":         {x:2,y:2, zIndex:24, hasWalkAni: true, hasDirs: false, isTileable: false},\n    \"text_keke\":    {x:2,y:2, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"me\":           {x:3,y:1, zIndex:24, hasWalkAni: true, hasDirs: false, isTileable: false},\n    \"text_me\":      {x:3,y:1, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"text_you\":     {x:4,y:1, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"skull\":        {x:2,y:1, zIndex:21, hasWalkAni: false, hasDirs: true, isTileable: false},\n    \"text_push\":    {x:6,y:1, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"text_stop\":    {x:5,y:1, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"text_is\":      {x:0,y:3, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"belt\":         {x:1,y:1, zIndex:24, hasWalkAni: false, hasDirs: true, isTileable: false},\n    \"text_belt\":    {x:1,y:3, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"text_shift\":   {x:1,y:3, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"text_move\":    {x:5,y:3, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"text_defeat\":  {x:2,y:1, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"wall\":         {x:1,y:1, zIndex:13, hasWalkAni: false, hasDirs: false, isTileable: true},\n    \"text_wall\":    {x:0,y:1, zIndex:24, hasWalkAni: false, hasDirs: false, isTileable: false},\n    \"grass\":        {x:5,y:0, zIndex:13, hasWalkAni: false, hasDirs: false, isTileable: true},\n    \"text_grass\":   {x:5,y:0, zIndex:13, hasWalkAni: false, hasDirs: false, isTileable: false},\n}\n\nexport const objectNames = [\n    \"babu\",\n    \"keke\",\n    \"me\",\n    \"skull\",\n    \"belt\",\n    \"wall\",\n    \"grass\"\n]\n\nexport const verbNames = [\n    \"is\",\n    \"and\"\n]\n\nexport const qualityNames = [\n    \"you\",\n    \"push\",\n    \"stop\",\n    \"defeat\",\n    \"move\",\n    \"shift\"\n]","import Grid from \"./Grid\";\nimport {objectNames} from \"./Node\";\n\nexport default class Rules {\n    public grid: Grid;\n    public rules: Array<string> = [];\n\n    constructor(grid: Grid) {\n        this.grid = grid;\n    }\n\n    updateRules() {\n        this.rules = [];\n        const grid = this.grid.grid;\n        const rulesText = document.getElementById(\"rules-text\")\n        if(rulesText != null) {\n            rulesText.innerText = \"\"\n        }\n        // convert every rule in blocks on the grid into an array with rules\n        for (let y = 0; y < this.grid.height; y++) {\n            for (let x = 0; x < this.grid.width; x++) {\n                for (let i = 0; i < grid[y][x].nodes.length; i++) {\n                    const curNode = grid[y][x].nodes[i];\n                    if(curNode.isText_Object) {\n                        if(x+1 !< this.grid.width && x+2 !< this.grid.width) {\n                            for (const node1 of grid[y][x+1].nodes) {\n                                if(node1.isText_Verb) {\n                                    for (const node2 of grid[y][x+2].nodes) {\n                                        if (node2.isText_Quality || node2.isText_Object) {\n                                            this.addRule(curNode.text + \" \" + node1.text + \" \" + node2.text)\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        if(y+1 !< this.grid.height && y+2 !< this.grid.height) {\n                            for (const node1 of grid[y+1][x].nodes) {\n                                if(node1.isText_Verb) {\n                                    for (const node2 of grid[y+2][x].nodes) {\n                                        if (node2.isText_Quality || node2.isText_Object) {\n                                            this.addRule(curNode.text + \" \" + node1.text + \" \" + node2.text)\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        // Removes duplicates from rules array\n        this.rules = Array.from(new Set(this.rules))\n\n        this.resetAllNodeRules()\n\n        // go though every rule\n        for (const rule of this.rules) {\n            const rules = rule.split(\" \");\n            // like baba\n            const objectName = rules[0];\n            // like you or stop\n            const qualityName = rules[2];\n\n            let nodesWithObjectName = [];\n            for (let y = 0; y < this.grid.height; y++) {\n                for (let x = 0; x < this.grid.width; x++) {\n                    for (let i = 0; i < this.grid.grid[y][x].nodes.length; i++) {\n                        const node = this.grid.grid[y][x].nodes[i]\n                        if (node.objectName === objectName) {\n                            nodesWithObjectName.push(node)\n                        }\n                    }\n                }\n            }\n\n            for (const node of nodesWithObjectName) {\n                if(objectNames.indexOf(qualityName) !== -1) {\n                    // this.grid.playerPositions = []\n\n                    this.grid.undoActions.push({node: node, changeTo: node.objectName, changeOn: this.grid.undoStep+1})\n\n                    this.grid.doAfterMove.push({node: node, newObjectName: qualityName })\n                }\n                switch (qualityName) {\n                    case \"you\": {\n                        node.isPlayer = true;\n                        this.grid.playerPositions.push({x:node.x,y:node.y, skip:false});\n                        break;\n                    }\n                    case \"push\": {\n                        node.isPushable = true;\n                        break;\n                    }\n                    default: {\n                        node.rules.push(qualityName)\n                        break;\n                    }\n\n                }\n            }\n            if(rulesText != null) {\n                rulesText.innerText += rule+\"\\n\";\n            }\n        }\n    }\n\n    resetAllNodeRules() {\n        this.grid.playerPositions = []\n        const grid = this.grid.grid;\n        for (let y = 0; y < this.grid.height; y++) {\n            for (let x = 0; x < this.grid.width; x++) {\n                for (let i = 0; i < grid[y][x].nodes.length; i++) {\n                    const node = grid[y][x].nodes[i]\n                    node.isPlayer = false;\n                    node.isPushable = false;\n                    node.rules = [];\n                }\n            }\n        }\n    }\n\n    addRule(rule:string) {\n        this.rules.push(rule);\n    }\n}","import Canvas, {Drawing} from \"./Canvas\";\nimport Tile, {Node, Objects} from \"./Node\";\nimport Rules from \"./rules\";\n\nexport class AnimatedImage extends Drawing {\n    public currentDirection: number = 0;\n    public lastDirection: number = 1;\n    public extraWalking: number = 3;\n\n    public imageName: string;\n\n    public drawings: Array<Array<any>> = []\n\n    public x: number = 0;\n    public xLastFrame: number = 0;\n    public drawX: number = 0;\n    private xDir: number = 0;\n\n    public y: number = 0;\n    public yLastFrame: number = 0;\n    public drawY: number = 0;\n    private yDir: number = 0;\n\n    public offset!: { x: number; y: number };\n    private readonly resolution: number;\n    private readonly hasWalking: boolean = false;\n    private readonly hasDirections: boolean = false;\n    private isMoving: boolean = false;\n\n    public grid: Grid;\n    public node: Node;\n\n    constructor(x:number, y:number, canvas: Canvas, imageName: string, grid:Grid, node:Node) {\n        super(canvas, false);\n        this.imageName = imageName;\n        this.grid = grid\n        this.node = node;\n        this.resolution = this.grid.resolution;\n\n        this.x = x;\n        this.xLastFrame = x;\n        this.drawX = x;\n        this.y = y;\n        this.yLastFrame = y;\n        this.drawY = y;\n\n        this.hasDirections = Objects[this.imageName].hasDirs\n        this.hasWalking = Objects[this.imageName].hasWalkAni\n    }\n\n    draw() {\n        this.drawings = this.grid.drawings[this.imageName];\n\n        // if there is no drawing don't try to draw the image and crash\n        if(this.drawings === undefined || this.drawings[this.currentDirection][this.currentFrame] === undefined) return;\n\n        // Reset the direction\n        this.currentDirection = 0;\n\n        // set the currentDirection for objects that have more than 1 direction like the skull\n        if(this.hasDirections) {\n            this.currentDirection = this.lastDirection === 0? 8 : this.lastDirection === 1 ? 0 : this.lastDirection === 2 ? 24 : this.lastDirection === 3 ? 16 : 0;\n        }\n        // set the currentDirection for objects that have walking animation\n        if(this.hasWalking) {\n            this.currentDirection = this.lastDirection === 0? 8 : this.lastDirection === 1 ? 0 : this.lastDirection === 2 ? 24 : this.lastDirection === 3 ? 16 : 0;\n            if(this.x !== this.xLastFrame || this.y !== this.yLastFrame) {\n                if(this.extraWalking !== 3) {\n                    this.extraWalking += 1;\n                } else {\n                    this.extraWalking = 0;\n                }\n            }\n            this.currentDirection += this.extraWalking;\n        }\n        if(this.x !== this.xLastFrame || this.y !== this.yLastFrame) {\n            this.xDir = this.x - this.xLastFrame\n            this.yDir = this.y - this.yLastFrame\n            this.drawX = this.x-this.xDir\n            this.drawY = this.y-this.yDir;\n        }\n\n        //#region tile sides\n\n        // Tile system\n        if(Objects[this.imageName].isTileable && !this.isMoving) {\n            let hasLeft = false;\n            let hasRight = false;\n            let hasTop = false;\n            let hasBottom = false;\n\n            //TODO: when pushing two or more walls for one frame they are not connected\n            if(!(this.x+1 > this.grid.width-1) && this.grid.grid[this.y][this.x+1].nodes.some(value => value.objectName === this.imageName)) {\n                // const nextNodes = this.grid.grid[this.y][this.x+1].nodes.filter(value => value.objectName === this.imageName)\n                // let shouldDo = true;\n                // for (const nextNode of nextNodes) {\n                //     if(nextNode.isMoving) {\n                //         shouldDo = false;\n                //     }\n                // }\n                // if(shouldDo) {\n                    hasRight = true;\n                // }\n            }\n            if(!(this.x-1 < 0) && this.grid.grid[this.y][this.x-1].nodes.some(value => value.objectName === this.imageName)) {\n                // const nextNodes = this.grid.grid[this.y][this.x-1].nodes.filter(value => value.objectName === this.imageName)\n                // let shouldDo = true;\n                // for (const nextNode of nextNodes) {\n                //     if(nextNode.isMoving) {\n                //         shouldDo = false;\n                //     }\n                // }\n                // if(shouldDo) {\n                    hasLeft = true;\n                // }\n            }\n            if(!(this.y+1 > this.grid.height-1) && this.grid.grid[this.y+1][this.x].nodes.some(value => value.objectName === this.imageName)) {\n                // const nextNodes = this.grid.grid[this.y+1][this.x].nodes.filter(value => value.objectName === this.imageName)\n                // let shouldDo = true;\n                // for (const nextNode of nextNodes) {\n                //     if(nextNode.isMoving) {\n                //         shouldDo = false;\n                //     }\n                // }\n                // if(shouldDo) {\n                    hasBottom = true;\n                // }\n            }\n            if(!(this.y-1 < 0) && this.grid.grid[this.y-1][this.x].nodes.some(value => value.objectName === this.imageName)) {\n                // const nextNodes = this.grid.grid[this.y-1][this.x].nodes.filter(value => value.objectName === this.imageName)\n                // let shouldDo = true;\n                // for (const nextNode of nextNodes) {\n                //     if(nextNode.isMoving) {\n                //         shouldDo = false;\n                //     }\n                // }\n                // if(shouldDo) {\n                    hasTop = true;\n                // }\n            }\n\n            // Right\n            if(!hasLeft && hasRight && !hasTop && !hasBottom) {\n                this.currentDirection += 1;\n            }\n            //Top\n            else if(!hasLeft && !hasRight && hasTop && !hasBottom) {\n                this.currentDirection += 2;\n            }\n            // Top and right\n            else if(!hasLeft && hasRight && hasTop && !hasBottom) {\n                this.currentDirection += 3;\n            }\n            // Left side\n            else if(hasLeft && !hasRight && !hasTop && !hasBottom) {\n                this.currentDirection += 4;\n            }\n            // Left and right\n            else if(hasLeft && hasRight && !hasTop && !hasBottom) {\n                this.currentDirection += 5;\n            }\n            // Left and top\n            else if(hasLeft && !hasRight && hasTop && !hasBottom) {\n                this.currentDirection += 6;\n            }\n            // Left, top and right\n            else if(hasLeft && hasRight && hasTop && !hasBottom) {\n                this.currentDirection += 7;\n            }\n            // Bottom\n            else if(!hasLeft && !hasRight && !hasTop && hasBottom) {\n                this.currentDirection += 8;\n            }\n            // Bottom and right\n            else if(!hasLeft && hasRight && !hasTop && hasBottom) {\n                this.currentDirection += 9;\n            }\n            // Top and bottom\n            else if(!hasLeft && !hasRight && hasTop && hasBottom) {\n                this.currentDirection += 10;\n            }\n            // Top, bottom and right\n            else if(!hasLeft && hasRight && hasTop && hasBottom) {\n                this.currentDirection += 11;\n            }\n            // Bottom and left\n            else if(hasLeft && !hasRight && !hasTop && hasBottom) {\n                this.currentDirection += 12;\n            }\n            // Left, bottom and right\n            else if(hasLeft && hasRight && !hasTop && hasBottom) {\n                this.currentDirection += 13;\n            }\n            // Top, bottom and left\n            else if(hasLeft && !hasRight && hasTop && hasBottom) {\n                this.currentDirection += 14;\n            }\n            // All sides\n            else if(hasLeft && hasRight && hasTop && hasBottom) {\n                this.currentDirection += 15;\n            }\n        }\n\n        //#endregion\n\n        this.ctx.imageSmoothingEnabled = false\n        // if there is no drawing don't try to draw the image and crash\n        if(this.drawings[this.currentDirection][this.currentFrame] === undefined) return;\n\n        this.ctx.drawImage(this.drawings[this.currentDirection][this.currentFrame], this.drawX*this.resolution+this.offset.x,this.drawY*this.resolution+this.offset.y, this.resolution, this.resolution);\n\n        if(parseFloat(this.drawX.toFixed(1)) !== this.x || parseFloat(this.drawY.toFixed(1)) !== this.y) {\n            this.drawX+= 0.2*this.xDir\n            this.drawY+= 0.2*this.yDir;\n            this.isMoving = true;\n            this.node.isMoving = true;\n        } else {\n            this.isMoving = false;\n            this.node.isMoving = false;\n        }\n\n        this.xLastFrame = this.x;\n        this.yLastFrame = this.y;\n    }\n}\n\nexport default class Grid extends Drawing {\n    public width: number\n    public height: number\n\n    public resolution: number\n\n    public grid: Array<Array<Tile>> = [];\n    private offset!: { x: number; y: number };\n\n    public playerPositions: Array<{ x: number; y: number, skip: boolean }> = [];\n\n    public drawings: {[key: string]: any} = {}\n\n    private gridImage: any;\n\n    public active: boolean = true;\n\n    public undoMoves: Array<Array<{node:Node, xP: number; yP: number, doAction: boolean}>> = [];\n    public undoActions: Array<{node: Node, changeTo: any, changeOn: number}> = [];\n\n    public doAfterMove: Array<{node: Node, newObjectName: string}> = []\n\n    public undoStep = 0;\n    public rules: Rules = new Rules(this);\n\n    public didMoveThisStep: boolean = false;\n\n    constructor(canvas: Canvas, width: number, height: number, resolution: number) {\n        super(canvas)\n        this.width = width;\n        this.height = height;\n        this.resolution = resolution;\n        this.loadAllImages()\n        this.setOffset()\n        this.initializeGrid(width, height)\n        this.initializeDrawings();\n        this.rules.updateRules()\n        this.canvas.canvas.addEventListener('click', this.calculateText.bind(this));\n    }\n\n    loadAllImages() {\n        for (const key of Object.keys(Objects)) {\n            // this.drawings[key] = new AnimatedImage(this.canvas, key, this.resolution)\n            const drawings: Array<Array<any>> = []\n\n            const hasDirections = Objects[key].hasDirs\n            const hasWalking = Objects[key].hasWalkAni\n\n            let amountOfDirections = 0;\n            if(hasDirections) {\n                amountOfDirections = 24;\n            }\n            if(hasWalking) {\n                amountOfDirections = 27;\n            }\n            if(Objects[key].isTileable) {\n                amountOfDirections = 15;\n            }\n\n            // Give drawings a proper length to assign to\n            for (let j = 0; j < amountOfDirections+1; j++) {\n                drawings[j] = [];\n                for (let i = 1; i < 4; i++) {\n                    drawings[j][i] = undefined;\n                }\n            }\n\n            // load the palette of colors\n            let palette = new Image(7,5)\n            palette.src = process.env.PUBLIC_URL+\"/img/Palettes/default.png\"\n            palette.onload = () => {\n                for (let j = 0; j < amountOfDirections+1; j++) {\n                    for (let i = 1; i < 4; i++) {\n\n                        // load image from public folder\n                        let img = new Image(24,24);\n                        if(hasWalking) {\n                            img.src = process.env.PUBLIC_URL+\"/img/\"+key + \"/\" + key + \"_\" + j + \"_\" + i + '.png'\n                        } else if (key.includes('text')) {\n                            img.src = process.env.PUBLIC_URL+\"/img/texts/\" + key + \"_\" + j + \"_\" + i + '.png'\n                        } else {\n                            img.src = process.env.PUBLIC_URL+\"/img/objects/\" + key + \"_\" + j + \"_\" + i + '.png'\n                        }\n\n                        // get the palette image data\n                        let canvas = document.createElement('canvas');\n                        let ctx = canvas.getContext('2d');\n                        if(ctx !== null) {\n\n                        }\n\n                        // when image is loaded change it's color to correct color\n                        img.onload = () => {\n                            let canvas = document.createElement('canvas');\n                            let ctx = canvas.getContext('2d');\n                            if(ctx !== null) {\n                                ctx.imageSmoothingEnabled = false\n\n                                ctx.drawImage(palette, 100, 100, palette.width,palette.height)\n                                const paletteData = ctx.getImageData(100,100, palette.width,palette.height)\n\n                                // get image data to change\n                                ctx.drawImage(img, 0, 0, this.resolution-2, this.resolution-2)\n                                const imageData = ctx.getImageData(0,0,this.resolution-2, this.resolution-2)\n                                let imgData = imageData.data;\n\n                                // get x and y for index of the palette data. \"<< 2\" does something * 4 but faster\n                                const x = Objects[key].x;\n                                const y = Objects[key].y;\n                                const posForColor = (y * 7 + x) << 2;\n\n                                // change the whites of the image to the palette color\n                                for (let i =0; i < imgData.length; i += 4) {\n                                    if(imgData[i] === 255) {\n                                        imgData[i] = paletteData.data[posForColor]\n                                        imgData[i+1] = paletteData.data[posForColor+1]\n                                        imgData[i+2] = paletteData.data[posForColor+2];\n                                    }\n                                }\n\n                                // change image data to canvas for easy drawing\n                                let canvas2 = document.createElement(\"canvas\")\n                                canvas2.width = imageData.width;\n                                canvas2.height = imageData.height;\n                                let ctx2 = canvas2.getContext(\"2d\")\n                                if(ctx2 !== null) {\n                                    ctx2.putImageData(imageData, 0, 0)\n                                }\n\n                                drawings[j][i] = canvas2;\n                                this.drawings[key] = drawings;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    setOffset() {\n        this.offset = {x:Math.floor(window.innerWidth/2-(this.width/2*this.resolution)), y:Math.floor(window.innerHeight/2-(this.height/2*this.resolution))}\n    }\n\n    initializeDrawings() {\n        this.gridImage = this.drawGrid()\n    }\n\n    initializeGrid(width:number, height:number) {\n        for (let y = 0; y < height; y++) {\n            const currentY = []\n            for (let x = 0; x < width; x++) {\n                currentY.push(new Tile(x,y))\n            }\n            this.grid.push(currentY)\n        }\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                if((x===5 && y===5)) {\n                    this.grid[y][x].nodes.push(new Node(x,y,this.canvas,this, \"\", 'babu'))\n                }\n                if((x===7 && y===5)) {\n                    this.grid[y][x].nodes.push(new Node(x,y,this.canvas,this,\"\", 'keke'));\n                    // this.grid[y][x].nodes.push(new Node(x,y,\"\", 'me'))\n                }\n                if((x===8 && y===5)) {\n                    // this.grid[y][x].nodes.push(new Node(x,y,this.canvas,this,\"\", 'wall'));\n                }\n\n                if((x===3 && y===3)) {\n                    this.grid[y][x].nodes.push(new Node(x,y,this.canvas,this,\"babu\"))\n                }\n                if((x===4 && y===3)) {\n                    this.grid[y][x].nodes.push(new Node(x,y,this.canvas,this,\"is\"))\n                }\n                if((x===5 && y===3)) {\n                    this.grid[y][x].nodes.push(new Node(x,y,this.canvas,this,\"you\"))\n                }\n                //\n                // if((x===7 && y===4)) {\n                //     this.grid[y][x].nodes.push(new Node(x,y,this.canvas,\"keke\"))\n                // }\n                // if((x===7 && y===6)) {\n                //     this.grid[y][x].nodes.push(new Node(x,y,this.canvas,\"me\"))\n                // }\n            }\n        }\n    }\n\n    calculateText(e: any) {\n        const posX = e.clientX - this.offset.x;\n        const posY = e.clientY - this.offset.y;\n        const gridPos = {x: Math.floor(posX/this.resolution), y: Math.floor(posY/this.resolution)}\n        if(gridPos.x < 0 || gridPos.x >= this.width || gridPos.y < 0 || gridPos.y >= this.height) {\n            return;\n        }\n        const text = prompt(\"Give a value.\")\n        if(text !== null) {\n            // if(objectNames.indexOf(text) !== -1) {\n            //     this.grid[gridPos.y][gridPos.x].nodes.push(new Node(gridPos.x,gridPos.y,\"\", text))\n            // } else {\n                this.grid[gridPos.y][gridPos.x].nodes.push(new Node(gridPos.x,gridPos.y,this.canvas,this,text))\n            // }\n        }\n        this.rules.updateRules();\n    }\n\n    //#region moving\n\n    doMovement() {\n        let movedNodes = []\n        for (let y = 0; y < this.height; y++) {\n            for (let x = 0; x < this.width; x++) {\n                for (const node of this.grid[y][x].nodes) {\n                    if(node.is(\"move\")) {\n                        let xyP = node.directionToXAndY(node.lastDirection())\n                        if(!this.canMoveIntoNode(node, xyP.xP, xyP.yP)) {\n                            xyP = {xP:-xyP.xP, yP:-xyP.yP}\n                        }\n                        movedNodes.push({node:node, xP:xyP.xP, yP:xyP.yP})\n                    }\n                    if(node.is(\"defeat\")) {\n                        if(this.grid[y][x].nodes.some(value => value.isPlayer)) {\n                            for (const playerNode of this.grid[y][x].nodes.filter(value => value.isPlayer)) {\n                                this.undoActions.push({node: playerNode, changeTo: playerNode.objectName, changeOn: this.undoStep+1})\n                                playerNode.objectName = \"\";\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        for (const movedNode of movedNodes) {\n            this.moveNode(movedNode.node, movedNode.xP, movedNode.yP)\n        }\n    }\n\n    canMoveIntoNode(node:Node, xP:number, yP:number) {\n        const grid = this.grid;\n\n        const x = node.x;\n        const y = node.y;\n        // return if coords out of bounds\n        if(x+xP < 0 || x+xP > this.width-1 || y+yP < 0 || y+yP > this.height-1) return false;\n        for (let i = 0; i < grid[y+yP][x+xP].nodes.length; i++) {\n            const nextNode = grid[y+yP][x+xP].nodes[i];\n            if(nextNode.isPushable) {\n                // return if coords out of bounds\n                if(nextNode.x+xP < 0 || nextNode.x+xP > this.width-1 || nextNode.y+yP < 0 || nextNode.y+yP > this.height-1) return false;\n\n                // if next tile empty you can move\n                if(grid[nextNode.y+yP][nextNode.x+xP].nodes.length === 0) {\n                    this.moveNode(nextNode, xP,yP)\n                    return true;\n                }\n                for (let j = 0; j < grid[nextNode.y+yP][nextNode.x+xP].nodes.length; j++) {\n                    if(this.canMoveIntoNode(nextNode, xP, yP)) {\n                        this.moveNode(nextNode, xP,yP)\n                        return true;\n                    }\n                }\n                return false;\n            } else if(nextNode.is('stop')) {\n                return false\n            }\n        }\n        return true;\n    }\n\n    moveNode(node: Node, xP:number, yP:number, skipMoveCheck:boolean = false, skipAddUndoCheck:boolean = false, reverseDirection:boolean = false): boolean {\n\n        if(!skipMoveCheck && !this.canMoveIntoNode(node, xP, yP)) {\n            return false;\n        }\n\n        const curTile = this.grid[node.y][node.x];\n        const nextTile = this.grid[node.y+yP][node.x+xP];\n\n        node.x += xP;\n        node.y += yP;\n\n        if(reverseDirection) {\n            node.xP = -xP\n            node.yP = -yP;\n        } else {\n            node.xP = xP\n            node.yP = yP;\n        }\n\n        nextTile.nodes.push(node);\n        curTile.nodes.splice(curTile.nodes.indexOf(node), 1);\n\n        // Undo moves\n        if(!skipAddUndoCheck) {\n            this.didMoveThisStep = true;\n            if(this.undoMoves.length-1 !== this.undoStep) {\n                this.undoMoves.push([]);\n            }\n            this.undoMoves[this.undoStep].push({node:nextTile.nodes[nextTile.nodes.findIndex(value => value === node)], xP: -xP,yP: -yP, doAction:false});\n        }\n        return true;\n    }\n\n    //#endregion\n\n    //#region drawing\n\n    draw() {\n        if(!this.active) return;\n        this.ctx.clearRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height)\n        this.ctx.imageSmoothingEnabled = false\n\n        this.ctx.drawImage(this.gridImage, this.offset.x, this.offset.y)\n        for (let zI = 0; zI < 25; zI++) {\n            for (let y = 0; y < this.height; y++) {\n                for (let x = 0; x < this.width; x++) {\n                    for (let j = 0; j < this.grid[y][x].nodes.length; j++){\n                        const node = this.grid[y][x].nodes[j];\n                        if(node.objectName !== \"\") {\n                            if(Objects[node.objectName].zIndex !== zI) continue\n\n\n                            const drawing = node.aniImg;\n                            drawing.x = x;\n                            drawing.y = y;\n                            drawing.grid = this;\n                            drawing.lastDirection = node.lastDirection();\n                            drawing.offset = this.offset;\n                            drawing.draw()\n                        }\n                        if(node.isText) {\n                            if(Objects[\"text_\"+node.text].zIndex !== zI) continue\n\n                            const drawing = node.aniImg;\n                            drawing.x = x;\n                            drawing.y = y;\n                            drawing.grid = this;\n                            drawing.offset = this.offset;\n                            drawing.draw()\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    drawGrid() {\n        const width = this.width;\n        const height = this.height;\n        const resolution = this.resolution;\n\n        const canvas = document.createElement('canvas')\n        canvas.width = width*resolution\n        canvas.height = height*resolution\n        const ctx = canvas.getContext('2d');\n        if(ctx) {\n            ctx.imageSmoothingEnabled = false\n            ctx.globalCompositeOperation = 'source-over';\n            ctx.strokeStyle = 'rgba(0,0,0,1)'\n            ctx.fillStyle = \"rgba(0,0,0,1)\";\n            ctx.beginPath();\n            for (let x = 0; x < width; x++) {\n                ctx.moveTo(x*resolution, 0);\n                ctx.lineTo(x*resolution, height*resolution);\n            }\n            ctx.stroke();\n            ctx.beginPath();\n            for (let y = 0; y < width; y++) {\n                ctx.moveTo(0, y*resolution);\n                ctx.lineTo(width*resolution, y*resolution);\n            }\n            ctx.stroke();\n\n            ctx.beginPath();\n            ctx.moveTo(width*resolution, 0);\n            ctx.lineTo(width*resolution, height*resolution);\n            ctx.stroke();\n            ctx.beginPath();\n            ctx.moveTo(0, height*resolution);\n            ctx.lineTo(width*resolution, height*resolution);\n            ctx.stroke();\n\n        }\n        return canvas;\n    }\n\n    //#endregion\n}","import React, {Component} from \"react\";\nimport \"./Game.css\"\nimport Canvas from \"./Canvas\";\nimport Grid from \"./Grid\";\nimport gitLogo from \"../GitHub-Mark-64px.png\";\n\nexport default class Game extends Component {\n    private canvas!: Canvas | null;\n    private grid!:Grid;\n    private canMove: boolean = true;\n    private justUndone: boolean = false;\n    private interval!: any;\n\n    constructor(props: any) {\n        super(props);\n        this.state = {}\n    }\n\n    componentDidMount() {\n        if (this.canvas) {\n            this.grid = new Grid(this.canvas, 10, 10, 70);\n            window.addEventListener(\"resize\", this.grid.setOffset.bind(this.grid))\n            window.addEventListener('keydown',this.keyDetectDown.bind(this),false);\n            window.addEventListener('keyup',this.keyDetectUp.bind(this),false);\n\n            // Detect loading with this\n\n            // window.addEventListener('DOMContentLoaded', function() {\n            //     console.log(\"started loading\")\n            // })\n            // window.addEventListener(`load`, () => {\n            //     console.log('i have loaded')\n            // })\n        }\n    }\n\n    movePlayers(xP:number, yP:number) {\n        if(!this.canMove) return;\n        if(this.grid.playerPositions.length !== 0) {\n            this.grid.undoMoves.length = this.grid.undoStep;\n            if (this.grid.undoMoves.length > 50) {\n                this.grid.undoMoves.shift();\n                this.grid.undoStep--\n            }\n            let doExtra = 0;\n            for (const pos of this.grid.playerPositions) {\n                if (pos.skip) {\n                    pos.skip = false;\n                    continue\n                }\n                const findPlayerNode = this.grid.grid[pos.y][pos.x].nodes.find(v => v.isPlayer);\n                if(findPlayerNode != null) {\n                    if(!this.grid.moveNode(findPlayerNode, xP, yP)) doExtra++;\n                    pos.skip = false;\n                }\n            }\n            this.grid.doMovement();\n            this.grid.rules.updateRules()\n            let howManyRulesNotYou = 0;\n            for (const rule of this.grid.rules.rules) {\n                if(rule.split(\" \")[2] !== \"you\") {\n                    howManyRulesNotYou++;\n                }\n            }\n\n            if(doExtra !== this.grid.playerPositions.length || howManyRulesNotYou === this.grid.rules.rules.length || this.grid.didMoveThisStep) {\n                this.grid.undoStep++\n                this.grid.didMoveThisStep = false;\n            }\n\n            if(this.grid.doAfterMove.length !== 0) {\n                for (const doAfterMove of this.grid.doAfterMove) {\n                    doAfterMove.node.objectName = doAfterMove.newObjectName;\n                }\n                this.grid.rules.resetAllNodeRules()\n            }\n            this.grid.rules.updateRules()\n\n            this.canMove = false;\n\n            setTimeout(() => {\n                this.canMove = true\n            }, 100)\n        }\n    }\n\n    undoMoves() {\n        if(this.grid.undoStep-1 < 0) return;\n        this.canMove = false\n        if(this.grid.undoMoves.length < this.grid.undoStep) {\n            console.error(\"Could not do undo with: \" + this.grid.undoMoves + \" and \" + this.grid.undoStep);\n            return\n        }\n        const undoMoves = this.grid.undoMoves[this.grid.undoStep-1].slice()\n        for (let i = undoMoves.length-1; i >= 0; i--) {\n            const undoMove = undoMoves[i]\n            this.grid.moveNode(undoMove.node, undoMove.xP, undoMove.yP,false,true, true)\n            for (const undoAction of this.grid.undoActions) {\n                if(undoAction.changeOn === this.grid.undoStep) {\n                    undoAction.node.objectName = undoAction.changeTo;\n                    this.grid.doAfterMove = []\n                }\n            }\n        }\n        this.grid.rules.updateRules()\n        this.grid.undoStep--;\n        this.justUndone = true;\n        this.canMove = true;\n    }\n    \n    keyDetectDown(e: KeyboardEvent) {\n        if(e.repeat) return;\n        if(this.interval !== undefined) return;\n        if(e.key === \"w\") {\n            this.movePlayers(0,-1)\n            this.interval = setInterval(() => this.movePlayers(0,-1), 150)\n        }\n        else if(e.key === \"a\") {\n            this.movePlayers(-1,0)\n            this.interval = setInterval(() => this.movePlayers(-1,0), 150)\n        } else if(e.key === \"s\") {\n            this.movePlayers(0,1)\n            this.interval = setInterval(() => this.movePlayers(0,1), 150)\n        } else if(e.key === \"d\") {\n            this.movePlayers(1,0)\n            this.interval = setInterval(() => this.movePlayers(1,0), 150)\n        }\n        else if(e.key === \"z\") {\n            this.undoMoves();\n            this.interval = setInterval(() => this.undoMoves(), 200)\n        }\n    }\n    keyDetectUp(e: KeyboardEvent) {\n        if(e.repeat) return;\n        clearInterval(this.interval)\n        this.interval = undefined\n    }\n\n\n\n    render() {\n\n        return(\n            <>\n                <a href=\"https://github.com/tddebart/babu-is-you\" target=\"_blank\" rel=\"noreferrer\">\n                    <img className={\"github\"} src={gitLogo} alt={\"github\"} />\n                </a>\n                <button style={{position: \"absolute\", top: \"10px\"}} onClick={() => console.log(this.grid)}>Grid</button>\n                <div id={\"rules-text\"} style={{position: \"absolute\", top: \"10px\", left: \"10px\", textAlign: \"left\"}}/>\n                <Canvas ref={el => this.canvas = el}/>\n            </>\n        )\n    }\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2ls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\"","import React from 'react';\nimport './App.css';\nimport Game from \"./Game/Game\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n          <Game/>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}